<!--
 - Created by dmytrodemchuk on 30.12.2019.
 -->

<!-- Card Modal -->
<template>
    <template if:true={show}>
        <div class="task-modal" data-id={task.Id}>
            <div class="task-modal-main">
                <div class="task-modal-title">
                    <div class="task-modal-title-main">
                        <i class="task-modal-title-icon"></i>
                        <div class="task-modal-title-area">
                            <div class="task-modal-title-text" onclick={editCardTitleClick}>{task.Name}</div>
                            <textarea class="task-modal-title-text hidden" rows="1">{task.Name}</textarea>
                        </div>
                        <i class="task-modal-close" onclick={closeModal}></i>
                    </div>
                    <div class="task-modal-title-sub">in the list <span class="task-modal-main-type">{type.Name}</span></div>
                </div>
                <div class="task-modal-main-text">
                    <div class="task-modal-title-main desc">
                        <i class="task-modal-text-icon"></i>
                        <div class="task-modal-title-text">Description</div>
                    </div>
                    <textarea placeholder="Add description..." class="description-area">{task.Text__c}</textarea>
                </div>
                <div class="task-modal-file">
                    <div class="saved-files-list">
                        <template for:each={files} for:item="itemFile">
                            <div key={itemFile.Id} class="saved-files-list-item">
                                <a href={itemFile.Url__c}>{itemFile.Name}</a>
                            </div>
                        </template>
                    </div>
                    <div class="task-modal-file-new">
                        <input type="file" onchange={handleFilesChange}>
                        <button onclick={handleSave}>Upload file</button>
                    </div>
                </div>
            </div>
        </div>
    </template>
</template>